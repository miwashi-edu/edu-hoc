import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./iframe-DckVNL-3.js";import{s as o}from"./TodoList.module-CPTydILb.js";const D=({id:f,title:e,onRename:c=()=>{}})=>{const[a,r]=s.useState(!1),[l,i]=s.useState(e??"untitled"),u=s.useRef(null);s.useEffect(()=>i(e??"untitled"),[e]),s.useEffect(()=>{a&&u.current&&u.current.focus()},[a]);const d=t=>{t.preventDefault(),t.stopPropagation(),r(!0)},p=t=>{t?.preventDefault?.(),t?.stopPropagation?.();const k=l.trim()||"untitled";c(f,k),r(!1)},m=t=>{t.key==="Enter"&&p(t),t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),i(e??"untitled"),r(!1))};return a?n.jsxs("form",{className:o.titleEditRow,onSubmit:p,onClick:t=>t.stopPropagation(),children:[n.jsx("input",{ref:u,className:o.titleInput,value:l,onChange:t=>i(t.target.value),onKeyDown:m,onMouseDown:t=>t.preventDefault(),"aria-label":"Edit task title"}),n.jsx("button",{type:"submit",className:o.okButton,onMouseDown:t=>t.preventDefault(),children:"OK"})]}):n.jsx("span",{className:o.taskTitle,onMouseDown:t=>t.preventDefault(),onClick:d,title:"Click to edit",children:e})};D.__docgenInfo={description:"",methods:[],displayName:"TaskTitle",props:{onRename:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};export{D as T};
